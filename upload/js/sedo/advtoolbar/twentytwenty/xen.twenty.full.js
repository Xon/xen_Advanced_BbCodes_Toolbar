/*Event move 1.3.6*/
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n,t){function bt(n){function u(){t?(r(),ot(u),i=!0,t=!1):i=!1}var r=n,t=!1,i=!1;this.kick=function(){t=!0,i||u()},this.end=function(n){var u=r;n&&(i?(r=t?function(){u(),n()}:n,t=!0):n())}}function gt(){return!0}function tt(){return!1}function g(n){n.preventDefault()}function nt(n){it[n.target.tagName.toLowerCase()]||n.preventDefault()}function vt(n){return n.which===1&&!n.ctrlKey&&!n.altKey}function o(n,t){var i,r;if(n.identifiedTouch)return n.identifiedTouch(t);for(i=-1,r=n.length;++i<r;)if(n[i].identifier===t)return n[i]}function ut(n,t){var i=o(n.changedTouches,t.identifier);if(i)return i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function pt(n){var t;vt(n)&&(t={target:n.target,startX:n.pageX,startY:n.pageY,timeStamp:n.timeStamp},i(document,u.move,ft,t),i(document,u.cancel,c,t))}function ft(n){var t=n.data;v(n,t,n,l)}function c(){l()}function l(){r(document,u.move,ft),r(document,u.cancel,c)}function wt(n){var t,r;it[n.target.tagName.toLowerCase()]||(t=n.changedTouches[0],r={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:n.timeStamp,identifier:t.identifier},i(document,f.move+"."+t.identifier,a,r),i(document,f.cancel+"."+t.identifier,h,r))}function a(n){var i=n.data,t=ut(n,i);t&&v(n,i,t,s)}function h(n){var t=n.data,i=o(n.changedTouches,t.identifier);i&&s(t.identifier)}function s(n){r(document,"."+n,a),r(document,"."+n,h)}function v(n,t,i,r){var f=i.pageX-t.startX,u=i.pageY-t.startY;f*f+u*u<rt*rt||dt(n,t,i,f,u,r)}function yt(){return this._handled=gt,!1}function b(n){n._handled()}function dt(n,t,i,r,u,f){var h=t.target,o,s;o=n.targetTouches,s=n.timeStamp-t.timeStamp,t.type="movestart",t.distX=r,t.distY=u,t.deltaX=r,t.deltaY=u,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=r/s,t.velocityY=u/s,t.targetTouches=o,t.finger=o?o.length:1,t._handled=yt,t._preventTouchmoveDefault=function(){n.preventDefault()},e(t.target,t),f(t.identifier)}function k(n){var t=n.data.timer;n.data.touch=n,n.data.timeStamp=n.timeStamp,t.kick()}function d(n){var t=n.data.event,i=n.data.timer;kt(),y(t,i,function(){setTimeout(function(){r(t.target,"click",tt)},0)})}function kt(){r(document,u.move,k),r(document,u.end,d)}function p(n){var i=n.data.event,r=n.data.timer,t=ut(n,i);t&&(n.preventDefault(),i.targetTouches=n.targetTouches,n.data.touch=t,n.data.timeStamp=n.timeStamp,r.kick())}function w(n){var t=n.data.event,r=n.data.timer,i=o(n.changedTouches,t.identifier);i&&(et(t),y(t,r))}function et(n){r(document,"."+n.identifier,p),r(document,"."+n.identifier,w)}function ht(n,t,i){var u=i-n.timeStamp;n.type="move",n.distX=t.pageX-n.startX,n.distY=t.pageY-n.startY,n.deltaX=t.pageX-n.pageX,n.deltaY=t.pageY-n.pageY,n.velocityX=.3*n.velocityX+.7*n.deltaX/u,n.velocityY=.3*n.velocityY+.7*n.deltaY/u,n.pageX=t.pageX,n.pageY=t.pageY}function y(n,t,i){t.end(function(){return n.type="moveend",e(n.target,n),i&&i()})}function ct(){return i(this,"movestart.move",b),!0}function st(){return r(this,"dragstart drag",g),r(this,"mousedown touchstart",nt),r(this,"movestart",b),!0}function lt(n){n.namespace!=="move"&&n.namespace!=="moveend"&&(i(this,"dragstart."+n.guid+" drag."+n.guid,g,t,n.selector),i(this,"mousedown."+n.guid,nt,t,n.selector))}function at(n){n.namespace!=="move"&&n.namespace!=="moveend"&&(r(this,"dragstart."+n.guid+" drag."+n.guid),r(this,"mousedown."+n.guid))}var rt=6,i=n.event.add,r=n.event.remove,e=function(t,i,r){n.event.trigger(i,r,t)},ot=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(function(){n()},25)}}(),it={textarea:!0,input:!0,select:!0,button:!0},u={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},f={move:"touchmove",cancel:"touchend",end:"touchend"};n.event.special.movestart={setup:ct,teardown:st,add:lt,remove:at,_default:function(n){function s(){ht(o,r.touch,r.timeStamp),e(n.target,o)}var o,r;n._handled()&&(o={target:n.target,startX:n.startX,startY:n.startY,pageX:n.pageX,pageY:n.pageY,distX:n.distX,distY:n.distY,deltaX:n.deltaX,deltaY:n.deltaY,velocityX:n.velocityX,velocityY:n.velocityY,timeStamp:n.timeStamp,identifier:n.identifier,targetTouches:n.targetTouches,finger:n.finger},r={event:o,timer:new bt(s),touch:t,timeStamp:t},n.identifier===t?(i(n.target,"click",tt),i(document,u.move,k,r),i(document,u.end,d,r)):(n._preventTouchmoveDefault(),i(document,f.move+"."+n.identifier,p,r),i(document,f.end+"."+n.identifier,w,r)))}},n.event.special.move={setup:function(){i(this,"movestart.move",n.noop)},teardown:function(){r(this,"movestart.move",n.noop)}},n.event.special.moveend={setup:function(){i(this,"movestart.moveend",n.noop)},teardown:function(){r(this,"movestart.moveend",n.noop)}},i(document,"mousedown.move",pt),i(document,"touchstart.move",wt),typeof Array.prototype.indexOf=="function"&&function(n){for(var r=["changedTouches","targetTouches"],i=r.length;i--;)n.event.props.indexOf(r[i])===-1&&n.event.props.push(r[i])}(n)});
/*Twentytwenty + XenForo Integration*/
typeof Sedo=="undefined"&&(Sedo={}),!function(n,t,i){Sedo.TwentyX2={init:function(i){i.each(function(){var i=n(this),r=i.find("img").eq(0),u=i.find("img").eq(1);i.find("img").on("load",function(){var b,y,h,v,k,p;if(!(r.width()<=2)&&!(r.height()<=2)&&i.data("complete")!=1){var g=parseFloat(i.data("diffPos")),e=parseInt(r.data("width")),s=parseInt(u.data("width")),w=i.parents(".adv_bimg_block").addClass("compare"),c=w.width(),ut=e/100,nt=i.data("phrase").split("|");i.addClass("twentytwenty-container").data("complete",1),b=function(){if(i.hasClass("Fluid")){c=w.width();var n=c*ut,t=new Image,f,o,h;return t.src=r.attr("src"),o=t.width,t.src=u.attr("src"),h=t.width,f=o>h?o:h,n>f&&(n=f),e=s=n,n}},b(),c!=0&&(e>c&&(e=c,r.attr("data-width",e)),s>c&&(s=c,u.attr("data-width",s))),r.width(e),u.width(s),y=e>s?e:s,i.width(y).attr("data-width",y);var f=g?g:.5,o=i.hasClass("DiffV")?"vertical":"horizontal",ft=o==="vertical"?"down":"left",tt=o==="vertical"?"up":"right";i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+o+"'></div>"),i.append("<div class='twentytwenty-overlay'></div>"),i.append("<div class='twentytwenty-handle'></div>"),h=i.find(".twentytwenty-handle"),h.append("<span class='twentytwenty-"+ft+"-arrow'></span>"),h.append("<span class='twentytwenty-"+tt+"-arrow'></span>");var a=i.find("img:first").addClass("twentytwenty-before"),et=i.find("img:last").addClass("twentytwenty-after"),d=i.find(".twentytwenty-overlay");d.append("<div class='twentytwenty-before-label-text'>"+nt[0]+"</div><div class='twentytwenty-before-label'></div>"),d.append("<div class='twentytwenty-after-label-text'>"+nt[1]+"</div><div class='twentytwenty-after-label'></div>");var it=function(n){var r=a.width(),t=a.height(),i;return t<2&&(i=new Image,i.src=a.attr("src"),t=i.height*(r/i.width)),{w:r+"px",h:t+"px",cw:n*r+"px",ch:n*t+"px"}},rt=function(n){o==="vertical"?a.css("clip","rect(0,"+n.w+","+n.ch+",0)"):a.css("clip","rect(0,"+n.cw+","+n.h+",0)"),i.css("height",n.h)},l=function(n){var t=it(n);h.css(o==="vertical"?"top":"left",o==="vertical"?t.ch:t.cw),rt(t)};n(t,h).on("adjustTwenty",function(){l(f)});l(f),v=function(){var n=w.parent().width(),o=i.width(),c=e>s?r:u,a=c.width(),h=i.find(".twentytwenty-overlay"),t;if(i.hasClass("Fluid")){t=b(),r.width(t),u.width(t),i.width(t),l(f);return}if(o<n){o<y&&(i.width(n),h.width(n),l(f));return}i.width(n),h.width(n),l(f)},v();n(t,i).on("resize",function(){v()});i.data("sedoTwenty",{adjustTwenty:l,resizeTwenty:v}),k=0,p=0;h.on("movestart",function(n){(n.distX>n.distY&&n.distX<-n.distY||n.distX<n.distY&&n.distX>-n.distY)&&o!=="vertical"?n.preventDefault():(n.distX<n.distY&&n.distX<-n.distY||n.distX>n.distY&&n.distX>-n.distY)&&o==="vertical"&&n.preventDefault(),i.addClass("active"),k=i.offset().left,offsetY=i.offset().top,p=a.width(),imgHeight=a.height()});h.on("moveend",function(){i.removeClass("active")});h.on("move",function(n){i.hasClass("active")&&(f=o==="vertical"?(n.pageY-offsetY)/imgHeight:(n.pageX-k)/p,f<0&&(f=0),f>1&&(f=1),l(f))});i.find("img").on("mousedown",function(n){n.preventDefault()})}})})},reload:function(){n(".AdvBimgDiff").each(function(){var t=n(this);t.height()==0&&t.find("img").load(function(){t.width(t.data("width")).trigger("adjustTwenty")})})},rebuild:function(){var i=n(".AdvBimgDiff");Sedo.TwentyX2.init(i),i.trigger("resize")}},XenForo.register(".AdvBimgDiff","Sedo.TwentyX2.init");n(i).on("XenForoActivate",Sedo.TwentyX2.reload);n(t).on("load sedoRebuild",Sedo.TwentyX2.rebuild)}(jQuery,this,document);