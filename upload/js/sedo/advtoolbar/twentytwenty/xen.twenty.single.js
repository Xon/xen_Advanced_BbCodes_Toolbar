/*Twentytwenty + XenForo Integration*/
typeof Sedo=="undefined"&&(Sedo={}),!function(n,t,i){Sedo.TwentyX2={init:function(i){i.each(function(){var i=n(this).addClass("twentytwenty-container"),l,s,f,h,c,a;diffPos=parseFloat(i.data("diffPos")),img1=i.find("img").eq(0),img2=i.find("img").eq(1),imgWidth1=parseInt(img1.data("width")),imgWidth2=parseInt(img2.data("width")),parentWrapper=i.parents(".adv_bimg_block").addClass("compare"),parentWidth=parentWrapper.width(),ratio=imgWidth1/100,l=function(){return i.hasClass("Fluid")?(parentWidth=parentWrapper.width(),imgWidth1=parentWidth*ratio,imgWidth2=parentWidth*ratio,parentWidth*ratio):!1},l(),parentWidth!=0&&(imgWidth1>parentWidth&&(imgWidth1=parentWidth,img1.attr("data-width",imgWidth1)),imgWidth2>parentWidth&&(imgWidth2=parentWidth,img2.attr("data-width",imgWidth2))),img1.width(imgWidth1),img2.width(imgWidth2),s=imgWidth1>imgWidth2?imgWidth1:imgWidth2,i.width(s).attr("data-width",s);var r=diffPos?diffPos:.5,u=i.hasClass("DiffV")?"vertical":"horizontal",b=u==="vertical"?"down":"left",y=u==="vertical"?"up":"right";i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+u+"'></div>"),i.append("<div class='twentytwenty-overlay'></div>"),i.append("<div class='twentytwenty-handle'></div>"),f=i.find(".twentytwenty-handle"),f.append("<span class='twentytwenty-"+b+"-arrow'></span>"),f.append("<span class='twentytwenty-"+y+"-arrow'></span>");var o=i.find("img:first").addClass("twentytwenty-before"),k=i.find("img:last").addClass("twentytwenty-after"),v=i.find(".twentytwenty-overlay");v.append("<div class='twentytwenty-before-label'></div>"),v.append("<div class='twentytwenty-after-label'></div>");var p=function(n){var t=o.width(),i=o.height();return{w:t+"px",h:i+"px",cw:n*t+"px",ch:n*i+"px"}},w=function(n){u==="vertical"?o.css("clip","rect(0,"+n.w+","+n.ch+",0)"):o.css("clip","rect(0,"+n.cw+","+n.h+",0)"),i.css("height",n.h)},e=function(n){var t=p(n);f.css(u==="vertical"?"top":"left",u==="vertical"?t.ch:t.cw),w(t)};n(t,f).on("adjust",function(){e(r)});e(r),h=function(){var n=parentWrapper.parent().width(),u=i.width(),o=imgWidth1>imgWidth2?img1:img2,h=o.width(),f=i.find(".twentytwenty-overlay"),t;if(i.hasClass("Fluid")){t=l(),img1.width(t),img2.width(t),i.width(t),e(r);return}if(u<n){u<s&&(i.width(n),f.width(n),e(r));return}i.width(n),f.width(n),e(r)},h();n(t,i).on("resize",function(){h()});i.data("sedoTwenty",{adjustSlider:e,resizeSlider:h}),c=0,a=0;f.on("movestart",function(n){(n.distX>n.distY&&n.distX<-n.distY||n.distX<n.distY&&n.distX>-n.distY)&&u!=="vertical"?n.preventDefault():(n.distX<n.distY&&n.distX<-n.distY||n.distX>n.distY&&n.distX>-n.distY)&&u==="vertical"&&n.preventDefault(),i.addClass("active"),c=i.offset().left,offsetY=i.offset().top,a=o.width(),imgHeight=o.height()});f.on("moveend",function(){i.removeClass("active")});f.on("move",function(n){i.hasClass("active")&&(r=u==="vertical"?(n.pageY-offsetY)/imgHeight:(n.pageX-c)/a,r<0&&(r=0),r>1&&(r=1),e(r))});i.find("img").on("mousedown",function(n){n.preventDefault()})})},reload:function(){n(".AdvBimgDiff").each(function(){var t=n(this);t.height()==0&&t.find("img").load(function(){t.width(t.data("width")).trigger("adjust")})})}},XenForo.register(".AdvBimgDiff","Sedo.TwentyX2.init");n(i).on("XenForoActivate",Sedo.TwentyX2.reload)}(jQuery,this,document);